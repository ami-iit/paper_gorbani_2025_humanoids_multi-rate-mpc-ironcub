<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE devices PUBLIC "-//YARP//DTD yarprobotinterface 3.0//EN" "http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd">
<robot name="iRonCub-Mk3_Gazebo" portprefix="icubSim" build="1" xmlns:xi="http://www.w3.org/2001/XInclude">
  <device name="flight_control_cpp_config" type="dummy">

    <group name="VS_MPC_CONFIG">

      <param name="enableDebugLogMode">false</param>
      <param name="useJetDynamic">true</param>
      <param name="useEstimatedThrust">true</param>
      <param name="uploadAlphaGravityTrajectory">true</param>
      <param name="periodMPC">0.005</param>
      <param name="periodMPCLargeSteps">0.1</param>
      <param name="periodMPCSmallSteps">0.005</param>
      <param name="totalTimeRamp">25.0</param>

      <param name="nIter">17</param>
      <param name="nIterSmall">7</param>
      <param name="controlHorizon">12</param>
      <param name="controlledJoints">("l_shoulder_pitch", "l_shoulder_roll", "l_shoulder_yaw", "l_elbow", "r_shoulder_pitch", "r_shoulder_roll", "r_shoulder_yaw", "r_elbow")</param>
      <param name="deltaRPYSafetyStopInDeg">(20.0 20.0 35.0)</param>

      <!-- this is parameter the parameter to select how the joints position to compute the lambda
          matrix have to be chosen, the possible values are: "unfiltered" or "constant" -->
      <param name="jointsLambdaOption">"unfiltered"</param>

      <param name="weightCoMPos">(500.0 500.0 5000.0)</param>
      <param name="weightCoMPosError">(25000.0 25000.0 50000.0)</param>
      <param name="weightLinMom">(1.0 1.0 1.5)</param>
      <param name="weightRPY">(1000.0 1000.0 1000.0)</param>
      <param name="weightRPYError">(10000.0 10000.0 10000.0)</param>
      <param name="weightAngMom">(80.0 80.0 80.0)</param>
      <param name="weightDeltaJoint">(65000.0 65000.0 65000.0 65000.0 65000.0 65000.0 65000.0 65000.0)</param>
      <param name="weightThrottle">80000.0</param>
      <param name="weightInitialThrottle">80000.0</param>
      <param name="weightRegularizationJointPos">20.0</param>

      <group name="TRAJECTORY_MANAGER">
        <param name="trajectoryFile">"alphaGravity.mat"</param>
      </group>

      <group name="POSITION_TRAJECOTRY">
        <param name="trajectoryFile">"minimumJerkTrajectory.mat"</param>
      </group>

      <param name="thrustMin">0.0</param>
      <param name="thrustMax">260.0</param>

      <param name="throttleMin">0.0</param>
      <param name="throttleMax">100.0</param>

      <param name="JointVelocityMax">0.5</param>
      <param name="JointVelocityMin">-0.5</param>

    </group>

  </device>
</robot>
